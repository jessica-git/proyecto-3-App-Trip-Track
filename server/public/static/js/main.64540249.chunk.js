(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,a,t){},106:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(26),s=t.n(l),c=t(6),o=t(11),i=t(13),u=t(12),m=t(14),p=t(30),d=t(34),h=t.n(d),g=function e(){var a=this;Object(c.a)(this,e),this.signup=function(e,t,n,r){return a._service.post("/signup",{username:e,password:t,email:n,imageUrl:r})},this.login=function(e,t){return a._service.post("/login",{username:e,password:t})},this.logout=function(){return a._service.post("/logout")},this.loggedin=function(){return a._service.get("/loggedin")},this.handleUpload=function(e){return a.service.post("/upload",e)},this._service=h.a.create({baseURL:"http://localhost:5000/api/auth",withCredentials:!0})},E=t(114),v=t(112),b=t(116),f=t(7),y=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleOnChange=function(e){t.setState({searchValue:e.target.value})},t.handleOnClick=function(e){},t.state={searchValue:""},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{className:"input",type:"text",placeholder:"Find a travel",value:this.state.searchValue,onChange:function(a){return e.handleOnChange(a)}}),r.a.createElement("p",{className:"control"},r.a.createElement(f.b,{to:"/search/".concat(this.state.searchValue)},"Search")))}}]),a}(n.Component),C=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).logoutUser=function(){t._service.logout().then((function(e){return t.props.setUser(!1)})).catch((function(e){return console.log(e)}))},t._service=new g,t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.loggedInUser?this.props.loggedInUser.username:"invitado";return this.props.loggedInUser?r.a.createElement(E.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(E.a.Brand,null,r.a.createElement(f.b,{to:"/"},"LOGOOOO")),r.a.createElement(v.a,{inline:!0},r.a.createElement(y,null)),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,null,r.a.createElement(b.a,{className:"mr-auto "},r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/profile"},"Perfil")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/myTravels"},"Mis viajes")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/travelApps"},"Apps para viajar")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/inspired"},"Insp\xedrate")),r.a.createElement(b.a.Link,{as:"li",onClick:this.logoutUser},"Logout")),r.a.createElement(b.a,{className:"ml-auto"},r.a.createElement(E.a.Text,null,"Bienvenid@ ",e)))):r.a.createElement(E.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(E.a.Brand,null,"LOGOO"),r.a.createElement(v.a,{inline:!0},r.a.createElement(y,null)),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,null,r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/travelApps"},"Apps para viajar")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/inspired"},"Insp\xedrate")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/signup"},"Signup")),r.a.createElement(b.a.Link,{as:"li"},r.a.createElement(f.b,{to:"/login"},"Login")))))}}]),a}(n.Component),j=t(108),O=function(){return r.a.createElement(j.a,null,r.a.createElement("section",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"TripTrack"),r.a.createElement("p",null,"Lhzsdjhsgfjhgsjhdfvshvdhjdgfjgdfjgdhfgshdg")),r.a.createElement("reactPlayer",{url:"#"})),r.a.createElement("section",{className:"indexBox"},r.a.createElement("h2",null,"Inspirate con los viajes de otros usuarios"),r.a.createElement("img",{src:"#",alt:""}),r.a.createElement("h2",null,"crea tu propio viaje y comparte"),r.a.createElement("img",{src:"#",alt:""}),r.a.createElement("h2",null,"viaja con la planificacion de otros y punt\xfaa"),r.a.createElement("img",{src:"#",alt:""})),r.a.createElement("section",null,r.a.createElement("p",null,"Aqui va el serach")))},I=t(48),x=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"client/public/images/icon-user.jpg",alt:"image profile"}),r.a.createElement("h3",null,"Wellcome ",e.loggedInUser.username," "),r.a.createElement(I.a,{variant:"secondary",size:"lg",block:!0},r.a.createElement(f.b,{to:"/myTravels"},"Tus viajes creados")),r.a.createElement(I.a,{variant:"secondary",size:"lg",block:!0},r.a.createElement(f.b,{to:"/savedInspirations"},"Tus inspiraciones guardadas")),r.a.createElement(I.a,{variant:"secondary",size:"lg",block:!0},r.a.createElement(f.b,{to:"/new"},"Crear viaje")))},T=t(18),w=function e(){var a=this;Object(c.a)(this,e),this.handleUpload=function(e){return a._service.post("/upload",e)},this._service=h.a.create({baseURL:"http://localhost:5000/api/files",withCredentials:!0})},U=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault();var a=t.state,n=a.username,r=a.password,l=a.email,s=a.imageUrl;t.AuthService.signup(n,r,l,s).then((function(e){t.props.setUser(e.data),t.setState({username:"",password:"",email:"",imageUrl:""}),t.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},t.handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState(Object(T.a)({},n,r))},t.AuthService=new g,t.FileService=new w,t.state={username:"",password:"",email:"",imageUrl:""},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement("h1",null,"Singup"),r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,{controlId:"formBasicEmail"},r.a.createElement(v.a.Label,null,"Usuario"),r.a.createElement(v.a.Control,{type:"text",name:"username",placeholder:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement(v.a.Group,{controlId:"formEmail"},r.a.createElement(v.a.Label,{className:"title"},"Email"),r.a.createElement(v.a.Control,{type:"email",name:"email",placeholder:"Email",onChange:this.handleInputChange,value:this.state.email}),r.a.createElement(v.a.Text,{className:"text-muted"},"Nunca compartiremos tu correo electr\xf3nico con nadie m\xe1s.")),r.a.createElement(v.a.Group,{controlId:"formBasicPassword"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement(v.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(v.a.Check,{type:"checkbox",label:"Remember me"})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Imagen URL (archivo)")),r.a.createElement(I.a,{variant:"primary",type:"submit"}," Submit")))}}]),a}(n.Component),k=t(20),S=t(113),L=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState({user:Object(k.a)({},t.state.user,Object(T.a)({},n,r))})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.user,n=a.username,r=a.password;t.AuthService.login(n,r).then((function(e){t.props.setUser(e.data),t.setState({username:"",password:""}),t.props.history.push("/")})).catch((function(e){t.handleToastOpen(e.response.data.message)}))},t.handleToastClose=function(){return t.setState({showToast:!1,toastText:""})},t.handleToastOpen=function(e){return t.setState({showToast:!0,toastText:e})},t.AuthService=new g,t.state={showToast:!1,toastText:"",user:{username:"",password:""}},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement("h1",null,"Iniciar sesi\xf3n"),r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Usuario"),r.a.createElement(v.a.Control,{type:"text",name:"username",placeholder:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Contrase\xf1a"),r.a.createElement(v.a.Control,{type:"password",name:"password",placeholder:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement(I.a,{variant:"dark",type:"submit"},"Iniciar sesi\xf3n")),r.a.createElement(S.a,{onClose:this.handleToastClose,show:this.state.showToast,delay:3e3,autohide:!0,style:{position:"fixed",right:"10px",bottom:"10px",minWidth:"250px"}},r.a.createElement(S.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Error"),r.a.createElement("small",null,"Session manager")),r.a.createElement(S.a.Body,null,this.state.toastText)))}}]),a}(n.Component),P=t(117),D=function e(){var a=this;Object(c.a)(this,e),this.getAllTravels=function(){return a._service.get("/all")},this.getOneTravelByID=function(e){return a._service.get("/travel/".concat(e))},this.getTravelByCity=function(e){return a._service.get("/searchPlace/".concat(e))},this.getTravelsByUser=function(e){return a._service.get("/myTravels/".concat(e))},this.newTravel=function(e){return a._service.post("/new",e)},this.newDay=function(e){return a._service.post("/newDay",e)},this.updateTravel=function(e,t,n,r,l,s){return a._service.post("/edit/travel/".concat(s),{place:e,duration:t,people:n,totalPrice:r,day:l})},this.updateDay=function(e,t,n,r,l,s,c,o,i,u,m){return a._service.post("/edit/day/".concat(m),{place:e,day:t,people:n,lodgings:r,placeToVisit:l,paidExcursions:s,transport:c,restaurantsMeals:o,tips:i,imageUrl:u})},this.handleUpload=function(e){return a.service.post("/upload",e)},this._service=h.a.create({baseURL:"http://localhost:5000/api/travels",withCredentials:!0})},N=t(49),G=t(109),_=t(70),A=function(e){e._id;var a=e.place,t=e.day,n=e.lodgings,l=e.placeToVisit,s=e.paidExcursions,c=e.transport,o=e.restaurantsMeals,i=e.tips,u=e.imageUrl,m=n.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Alojamiento: ",e.description),r.a.createElement("p",null,"Gasto de alojamiento: ",e.price," \u20ac"))})),p=l.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Lugares para visitar: ",e.description),r.a.createElement("p",null,"Gasto de las visitas: ",e.price," \u20ac"))})),d=s.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Excursiones contratadas: ",e.description),r.a.createElement("p",null,"Gasto de las excursiones: ",e.price," \u20ac"))})),h=c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Transporte necesario: ",e.description),r.a.createElement("p",null,"Gasto del transporte: ",e.price," \u20ac"))})),g=o.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Comidas del d\xeda: ",e.description),r.a.createElement("p",null,"Gasto de comida: ",e.price," \u20ac"))}));return r.a.createElement(j.a,{className:"coaster-details"},r.a.createElement("section",null,r.a.createElement(G.a,null,r.a.createElement(_.a,{md:6},r.a.createElement("p",null,"Lugar: ",a),r.a.createElement("p",null,"D\xedas: ",t),m,p,d,h,g,r.a.createElement("p",null,"Consejos: ",i)),r.a.createElement(_.a,{md:{span:4,offset:2}},r.a.createElement("p",null,"aqui van fotooos",u)))))},B=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).travelAPI=new D,t.state={travel:{}},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"getTravelDetailsInfo",value:function(){var e=this,a=this.props.match.params.id;this.travelAPI.getOneTravelByID(a).then((function(a){e.setState({travel:a.data})})).catch((function(e){return console.log("Error details info",{err:e})}))}},{key:"printCity",value:function(){this.getTravelDetailsInfo()}},{key:"componentDidMount",value:function(){this.printCity()}},{key:"render",value:function(){var e,a=this.state.travel,t=this.state.travel.user,n=this.props.loggedInUser;return n&&t!=n._id&&(e=r.a.createElement(f.b,{className:"btn btn-sm btn-dark"},"Guardar")),r.a.createElement(P.a,{style:{width:"18rem"}},r.a.createElement(P.a.Text,null,"Viaje creado por: ",a.user),r.a.createElement(P.a.Img,{variant:"top",src:"holder.js/100px180?text=Image cap",alt:"maps"}),r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,a.place),r.a.createElement(P.a.Text,null,"PEOPLE: ",a.people),r.a.createElement(P.a.Text,null,"PRICE: ",a.totalPrice," \u20ac"),r.a.createElement(P.a.Text,null,"Duration: ",a.duration)),a.day&&a.day.map((function(e,a){return r.a.createElement(N.a,{key:a},r.a.createElement(P.a,null,r.a.createElement(P.a.Header,null,r.a.createElement(N.a.Toggle,{as:I.a,variant:"link",eventKey:"0"},"D\xeda ",a+1)),r.a.createElement(N.a.Collapse,{eventKey:"0"},r.a.createElement(P.a.Body,null,r.a.createElement(A,Object.assign({key:e._id},e))))))})),r.a.createElement(P.a.Body,null,e,r.a.createElement(f.b,{to:"/search/".concat(a.place),className:"btn btn-sm btn-dark"},"Volver")))}}]),a}(n.Component),M=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).travelAPI=new D,t.state={place:"",user:"",duration:""},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"getTravelByCity",value:function(){var e=this,a=this.props.match.params.place;this.travelAPI.getTravelByCity(a).then((function(a){var t=a.data;e.setState({filteredCities:t})})).catch((function(e){return console.log("Error get travel by city",e)}))}},{key:"printTravels",value:function(){this.getTravelByCity()}},{key:"componentDidMount",value:function(){this.printTravels()}},{key:"render",value:function(){var e=this.state.filteredCities;return e?e.map((function(e){return r.a.createElement(P.a,{style:{width:"18rem"}},r.a.createElement(P.a.Img,{variant:"top",src:"holder.js/100px180",alt:"maps"}),r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,e.place),r.a.createElement(P.a.Text,null,e.user),r.a.createElement(P.a.Text,null,e.duration),r.a.createElement(f.b,{className:"btn btn-sm btn-dark",to:"/travel/".concat(e.place,"/").concat(e._id)},"Ver detalles")))})):"Esperando los datos..."}}]),a}(n.Component),V=t(110),z=t(115),F=t(118),W=t(73),R=t.n(W),q=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).updateTravelList=function(){t.travelAPI.getTravelsByUser(t.props.loggedInUser._id).then((function(e){var a=e.data;t.setState({travelList:a})})).catch((function(e){return console.log("Error update travel list",e)}))},t.componentDidMount=function(){return t.updateTravelList()},t.travelAPI=new D,t.state={travelList:[]},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.travelList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(_.a,{xs:6,md:4},r.a.createElement(f.b,{to:"/new"},r.a.createElement(V.a,{src:R.a,style:{width:"50px"},roundedCircle:!0}),"Crear"),r.a.createElement("p",null,"Aqui va el mapaaaa"))),r.a.createElement(j.a,null,r.a.createElement(z.a.Container,{id:"list-group-tabs-example",defaultActiveKey:"#link1"},r.a.createElement(G.a,null,r.a.createElement(_.a,{sm:4},r.a.createElement(F.a,null,e.map((function(e,a){return r.a.createElement(F.a.Item,{key:a,action:!0,href:"travel/".concat(e.place,"/").concat(e._id)},e.place)})))),r.a.createElement(_.a,{sm:8},r.a.createElement(z.a.Content,null,r.a.createElement(z.a.Pane,{eventKey:"#link1"})))))))}}]),a}(n.Component),H=t(75),K=t(111),J=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault(),t.TravelService.newDay(t.state.days).then((function(e){console.log(e),t.props.addDays(e.data),t.setState({days:Object(k.a)({},t.state.days)})})).catch((function(e){return console.log(e)}))},t.handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;console.log(e.target.className);var l=e.target.className.indexOf(" "),s=e.target.className.slice(0,l);console.log(s,n,r),"lodgings"===s||"placeToVisit"===s||"paidExcursions"===s||"transport"===s||"restaurantsMeals"===s?t.setState({days:Object(k.a)({},t.state.days,Object(T.a)({},s,Object(k.a)({},t.state.days[s],Object(T.a)({},n,r))))}):t.setState({days:Object(k.a)({},t.state.days,Object(T.a)({},n,r))})},t.handleFileUpload=function(e){var a=new FormData;a.append("imageUrl",e.target.files[0]),t.FilesService.handleUpload(a).then((function(e){return t.setState({travel:Object(k.a)({},t.state.travel,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},t.TravelService=new D,t.FilesService=new w,t.state={days:{place:"",day:0,lodgings:{lodgingsDescription:"",lodgingsPrice:0},placeToVisit:{placeToVisitDescription:"",placeToVisitPrice:0},paidExcursions:{paidExcursionsDescription:"",paidExcursionsPrice:0},transport:{transportDescription:"",transportPrice:0},restaurantsMeals:{restaurantsMealsDescription:"",restaurantsMealsPrice:0},tips:"",imageUrl:""}},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.days;return r.a.createElement(v.a,{onSubmit:this.props.handleSubmit},r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:_.a,controlId:"formGridPlace"},r.a.createElement(v.a.Label,null,"Lugar"),r.a.createElement(v.a.Control,{type:"text",name:"place",onChange:this.handleInputChange,value:e.place})),r.a.createElement(v.a.Group,{as:_.a,controlId:"formGridDay"},r.a.createElement(v.a.Label,null,"D\xedas"),r.a.createElement(v.a.Control,{type:"text",name:"day",onChange:this.handleInputChange,value:e.day}))),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Alojamiento"),r.a.createElement(v.a.Control,{className:"lodgings",type:"text",name:"lodgingsDescription",size:"lg",onChange:this.handleInputChange,value:e.lodgings.lodgingsDescription}),r.a.createElement(v.a.Text,{className:"text-muted"},"Precio"),r.a.createElement(v.a.Control,{className:"lodgings",size:"sm",type:"text",placeholder:"\u20ac",name:"lodgingsPrice",onChange:this.handleInputChange,value:e.lodgings.lodgingsPrice})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Lugares para visitar"),r.a.createElement(v.a.Control,{className:"placeToVisit",type:"text",name:"placeToVisitDescription",size:"lg",onChange:this.handleInputChange,value:e.placeToVisit.description}),r.a.createElement(v.a.Text,{className:"text-muted"},"Precio"),r.a.createElement(v.a.Control,{className:"placeToVisit",size:"sm",type:"text",placeholder:"\u20ac",name:"placeToVisitPrice",onChange:this.handleInputChange,value:e.placeToVisit.price})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Excursiones pagadas"),r.a.createElement(v.a.Control,{className:"paidExcursions",type:"text",name:"paidExcursionsDescription",size:"lg",onChange:this.handleInputChange,value:e.paidExcursions.description}),r.a.createElement(v.a.Text,{className:"text-muted"},"Precio"),r.a.createElement(v.a.Control,{className:"paidExcursions",size:"sm",type:"text",placeholder:"\u20ac",name:"paidExcursionsPrice",onChange:this.handleInputChange,value:e.paidExcursions.price})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Transporte"),r.a.createElement(v.a.Control,{className:"transport",type:"text",name:"transportDescription",size:"lg",onChange:this.handleInputChange,value:e.transport.description}),r.a.createElement(v.a.Text,{className:"text-muted"},"Precio"),r.a.createElement(v.a.Control,{className:"transport",size:"sm",type:"text",placeholder:"\u20ac",name:"transportPrice",onChange:this.handleInputChange,value:e.transport.price})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Comidas y restaurantes"),r.a.createElement(v.a.Control,{className:"restaurantsMeals",type:"text",name:"restaurantsMealsDescription",size:"lg",onChange:this.handleInputChange,value:e.restaurantsMeals.description}),r.a.createElement(v.a.Text,{className:"text-muted"},"Precio"),r.a.createElement(v.a.Control,{className:"restaurantsMeals",size:"sm",type:"text",placeholder:"\u20ac",name:"restaurantsMealsPrice",onChange:this.handleInputChange,value:e.restaurantsMeals.price})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Consejos"),r.a.createElement(v.a.Control,{type:"text",name:"tips",size:"lg",onChange:this.handleInputChange,value:e.tips})),r.a.createElement(v.a.Label,null," Sube tus mejores fotos"),r.a.createElement(v.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload}),r.a.createElement(I.a,{variant:"dark",size:"sm",type:"submit",onClick:this.handleSubmit,redirect:"/"},"A\xf1adir"))}}]),a}(n.Component),$=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault(),t.TravelService.newTravel(t.state.travel).then((function(e){return t.setState({travel:Object(k.a)({},t.state.travel)})})).catch((function(e){return console.log(e)}))},t.handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState({travel:Object(k.a)({},t.state.travel,Object(T.a)({},n,r))})},t.addDays=function(e){var a=Object(H.a)(t.state.travel.day);a.push(e),t.setState({travel:Object(k.a)({},t.state.travel,{day:a})})},t.handleShow=function(){return t.setState({showModalWindow:!0})},t.handleClose=function(){return t.setState({showModalWindow:!1})},t.TravelService=new D,t.state={travel:{showModalWindow:!1,place:"",user:t.props.loggedInUser._id,duration:"",people:0,totalPrice:0,day:[]}},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Viaje"),r.a.createElement(v.a.Control,{type:"text",name:"place",onChange:this.handleInputChange,value:this.state.travel.place})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"D\xedas"),r.a.createElement(v.a.Control,{type:"text",name:"duration",onChange:this.handleInputChange,value:this.state.travel.duration})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Personas que han viajado"),r.a.createElement(v.a.Control,{type:"number",name:"people",onChange:this.handleInputChange,value:this.state.travel.people})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Precio total del viaje"),r.a.createElement(v.a.Control,{type:"number",name:"totalPrice",onChange:this.handleInputChange,value:this.state.travel.totalPrice})),r.a.createElement("hr",null),r.a.createElement(v.a.Group,null,r.a.createElement(I.a,{variant:"dark",size:"sm",type:"submit",onClick:this.handleShow},"A\xf1adir d\xeda")),r.a.createElement(K.a,{show:this.state.showModalWindow,onHide:this.handleClose},r.a.createElement(K.a.Header,{closeButton:!0},r.a.createElement(K.a.Title,null,"Nuevo d\xeda")),r.a.createElement(K.a.Body,null,r.a.createElement(J,{closeModalWindow:this.handleClose,addDays:this.addDays}))),r.a.createElement(v.a.Group,null,r.a.createElement(I.a,{variant:"dark",size:"sm",type:"submit"},"Guardar")))}}]),a}(n.Component),Q=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(u.a)(a).call(this))).setTheUser=function(a){e.setState({loggedInUser:a}),console.log(e.state.loggedInUser)},e.fetchUser=function(){null===e.state.loggedInUser&&e.AuthService.loggedin().then((function(a){return e.setState({loggedInUser:a.data})})).catch((function(a){e.setState({loggedInUser:!1}),console.log({err:a})}))},e.state={loggedInUser:null},e.AuthService=new g,e}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:O}),r.a.createElement(p.b,{path:"/signup",render:function(a){return r.a.createElement(U,Object.assign({setUser:e.setTheUser},a))}}),r.a.createElement(p.b,{path:"/login",render:function(a){return r.a.createElement(L,Object.assign({setUser:e.setTheUser},a))}}),r.a.createElement(p.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(x,{loggedInUser:e.state.loggedInUser}):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/search/:place",component:M}),r.a.createElement(p.b,{exact:!0,path:"/travel/:place/:id",render:function(a){return r.a.createElement(B,Object.assign({},a,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/detailsTravel/:day",component:A}),r.a.createElement(p.b,{exact:!0,path:"/myTravels",render:function(){return e.state.loggedInUser?r.a.createElement(q,{loggedInUser:e.state.loggedInUser}):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/new",render:function(){return e.state.loggedInUser?r.a.createElement($,{loggedInUser:e.state.loggedInUser}):r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/newDay",render:function(){return e.state.loggedInUser?r.a.createElement(J,{loggedInUser:e.state.loggedInUser}):r.a.createElement(p.a,{to:"/"})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(104),t(105);s.a.render(r.a.createElement(f.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},73:function(e,a,t){e.exports=t.p+"static/media/button-create.6ebdb569.png"},76:function(e,a,t){e.exports=t(106)}},[[76,1,2]]]);
//# sourceMappingURL=main.64540249.chunk.js.map